Quick Summary of the Action Plan
Phase 1: Foundation Cleanup (1-2 hours) - Critical Fixes
Extract constants - Replace magic numbers (chunk dimensions, atlas sizes, vertex layout)
Fix resource leaks - Add cleanup methods for OpenGL resources (VAO/VBO/EBO/textures)
Fix performance bug - Cache uniform locations instead of looking up every frame
Improve error handling - Return errors instead of panicking in library code
Phase 2: Reduce Code Duplication (2-3 hours)
Extract boundary check helper - DRY up chunk validation
Create block builder pattern - Simplify block definitions
Extract camera helpers - Remove duplicate vector calculations
Phase 3: Add Interfaces & Architecture (4-6 hours)
Create core interfaces - Renderer, ChunkGenerator, BlockRegistry
Refactor block registry - Convert from global map to type-safe struct
Extract world generation - Make generation strategies pluggable
Create asset manager - Centralize asset loading
Phase 4: Configuration & Main Refactoring (6-8 hours)
Create config system - Move hardcoded settings to configuration
Refactor main.go - Extract into testable Game struct
Unexport internal fields - Proper encapsulation
Phase 5: Testing Infrastructure (4-6 hours)
Add unit tests - Test chunk logic, atlas calculations, block builder
Create mocks - Enable testing without OpenGL context
